<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">

    <title>Budge Home</title>
</head>
<body>

<div class="container">
    <h1>
        Budge salutes you, folks!
    </h1>
    <div class="card">
        <div class="card-block">
            <form action="{{ url_for("query") }}" method="post">
                <fieldset>
                    <legend>Search Parameters</legend>
                    <div class="form-group row">
                        {{ form.user_id.label(class="col-sm-2 col-form-label") }}
                        <div class="col-sm-10">
                            {{ form.user_id(class="form-control") }}
                        </div>
                    </div>
                </fieldset>
                {{ form.submit(class="btn btn-primary") }}
            </form>
        </div>
        <div class="card-block">
            <table class="table table-hover">
                <caption>
                    Table of user sessions
                </caption>
                <thead class="thead-default">
                <tr>
                    <th>#</th>
                    <th>Delay</th>
                    <th>Duration</th>
                    <th>Invite Time</th>
                    <th>End Time</th>
                    <th>User 1</th>
                    <th>User 2</th>
                    <th>Response</th>
                </tr>
                </thead>
                <tbody>
                {% for session in sessions %}
                <tr>
                    <th scope="row">{{ loop.index }}</th>
                    <td>{{ session.delay | round(3) }}</td>
                    <td>{{ session.duration | round(3) }}</td>
                    <td>{{ session.invite_time }}</td>
                    <td>{{ session.end_time }}</td>
                    <td>{{ session.user1 }}</td>
                    <td>{{ session.user2 }}</td>
                    <td>{{ session.response_code }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- jQuery first, then Tether, then Bootstrap JS. -->
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/tether.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

</body>
</html>
